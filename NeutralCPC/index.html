<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Congratulations ‚Äî Verified Access</title>
  <meta name="robots" content="noindex, nofollow"/>
  <meta http-equiv="Cache-Control" content="no-store"/>
  <style>
    :root{
      --bg:#0b1020; --card:#10162b; --text:#eaf0ff; --muted:#9aa3b2;
      --accent:#7c9cff; --accent2:#5b7cfd; --border:rgba(255,255,255,.08)
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      background:radial-gradient(1100px 700px at 70% -10%,#1a234a 0%,#0b1020 55%,#0b1020 100%);
      color:var(--text); font:700 16px/1.55 ui-sans-serif,system-ui,Segoe UI,Inter,Roboto,Arial;
      min-height:100svh; display:grid; place-items:center; padding:18px
    }
    .wrap{max-width:720px;width:100%}
    .card{
      border:1px solid var(--border); background:rgba(255,255,255,.02);
      border-radius:20px; padding:22px; display:grid; gap:14px; text-align:center
    }
    .flag{font-size:46px; line-height:1}
    h1{font:900 24px/1.2 Inter}
    .sub{color:#cbd6ff; font-weight:600}
    .badgeRow{display:flex;justify-content:center;flex-wrap:wrap;gap:8px}
    .chip{font:600 12px/1.1 Inter; color:#dfe6ff; padding:7px 10px; border-radius:999px;
          border:1px solid var(--border); background:rgba(255,255,255,.03)}
    .progress{height:10px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden;margin-top:6px}
    .bar{height:100%;width:0%;background:linear-gradient(90deg,#34d399,#10b981)}
    .timer{font:900 14px/1.2 Inter; color:#ffe8b3}
    .cta{display:grid; gap:10px; margin-top:6px}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:10px;border:none;border-radius:12px;
      padding:13px 16px; font:900 15px/1 Inter; text-decoration:none
    }
    .primary{background:linear-gradient(180deg,var(--accent),var(--accent2)); color:#0b1020}
    .ghost{background:transparent;border:1px solid var(--border);color:#e1e8ff}
    .tiny{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="flag" id="flag">üåç</div>
      <h1 id="headline">Congratulations! You are selected for <span id="country">your region</span></h1>
      <div class="sub" id="sub">We found an available reward that matches your location.</div>

      <div class="badgeRow">
        <span class="chip">Instant access</span>
        <span class="chip">Optimized for Mobile</span>
        <span class="chip">External offer page</span>
      </div>

      <div class="progress" aria-hidden="true">
        <div class="bar" id="bar"></div>
      </div>
      <div class="timer" id="timer">Opening in 3s‚Ä¶</div>

      <div class="cta">
        <a id="openNow" href="#" class="btn primary">Open Offer Now</a>
        <a id="tryAgain" href="#" class="btn ghost">Try Again if Blocked</a>
        <div class="tiny">Tip: If nothing opens, tap ‚ÄúTry Again‚Äù or disable popup blocking for a moment.</div>
      </div>
    </div>
  </div>

  <script>
    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    // üîó ILAGAY DITO ANG ADSTERRA SMARTLINK MO (iisang URL lang)
    const ADSTERRA_URL = "https://example.com/your-adsterra-smartlink";
    // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

    // --- Helpers ---
    const qs = new URLSearchParams(location.search);
    const geoOverride = (qs.get("geo") || "").trim().toUpperCase(); // e.g., ?geo=PH
    const byId = id => document.getElementById(id);

    function ccToFlag(cc){ // country code -> emoji flag
      if(!cc || cc.length !== 2) return "üåç";
      const A = 0x1F1E6, base = "A".charCodeAt(0);
      return String.fromCodePoint(A + cc.charCodeAt(0)-base, A + cc.charCodeAt(1)-base);
    }

    function setUI({countryName, countryCode}){
      byId("country").textContent = countryName || "your region";
      byId("flag").textContent = ccToFlag(countryCode) || "üåç";
      byId("sub").textContent = `We found an available reward for ${countryName || "your region"}.`;
      // Hook CTAs
      byId("openNow").href = ADSTERRA_URL;
      byId("tryAgain").href = ADSTERRA_URL;
    }

    // --- Geo detection ---
    async function detectGeo(){
      // 1) Manual override via ?geo=XX
      if(geoOverride && geoOverride.length === 2){
        return { countryCode: geoOverride, countryName: geoOverride };
      }

      // 2) Quick IP-based lookup (lightweight). Fallback-friendly.
      try{
        const r = await fetch("https://ipapi.co/json/", {cache:"no-store"});
        if(r.ok){
          const j = await r.json();
          if(j && j.country && j.country_name){
            return { countryCode: j.country.toUpperCase(), countryName: j.country_name };
          }
        }
      }catch(_){ /* ignore */ }

      // 3) Fallback via browser locale
      try{
        const loc = Intl.DateTimeFormat().resolvedOptions().locale || navigator.language || "en";
        // Rough map common locales -> country guesses
        const guess = loc.split("-")[1] || "US";
        return { countryCode: guess.toUpperCase(), countryName: guess.toUpperCase() };
      }catch(_){
        return { countryCode: "US", countryName: "United States" };
      }
    }

    // --- Progress + Auto-redirect ---
    function startCountdownAndOpen(){
      const bar = byId("bar");
      const timer = byId("timer");
      let ms = 3000, step = 50; // 3 seconds
      const i = setInterval(()=>{
        ms -= step;
        const pct = Math.max(0, Math.min(100, 100 - (ms/3000)*100));
        bar.style.width = pct + "%";
        timer.textContent = ms>0 ? `Opening in ${Math.ceil(ms/1000)}s‚Ä¶` : "Opening‚Ä¶";
        if(ms<=0){
          clearInterval(i);
          // Use location.href (less likely to be blocked than window.open)
          location.href = ADSTERRA_URL;
        }
      }, step);
    }

    // --- Manual buttons behavior ---
    byId("openNow").addEventListener("click", e=>{
      // Direct navigate (same tab) ‚Äî best success rate
      // leave default behavior (href)
    });

    byId("tryAgain").addEventListener("click", e=>{
      e.preventDefault();
      // Try new tab: some users prefer this if first attempt seems blocked
      const w = window.open(ADSTERRA_URL, "_blank");
      if(!w){ // blocked
        // Fallback same-tab
        location.href = ADSTERRA_URL;
      }
    });

    // --- Run ---
    (async ()=>{
      const g = await detectGeo();
      setUI(g);
      startCountdownAndOpen();
    })();
  </script>
</body>
</html>
