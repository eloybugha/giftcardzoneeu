<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GiftCardZoneEU • Quick Check</title>
  <meta name="description" content="We’ll send you to the best live Mobidea offer for your location. No pop-ups. No extra ads." />

  <!-- Optional: don't let this index in Google (usually paid-traffic only) -->
  <meta name="robots" content="noindex, nofollow" />

  <link rel="canonical" href="https://giftcardzoneeu.com/prelander/">

  <!-- Strict CSP: only self -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self';
                 connect-src 'self';
                 img-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 font-src 'self';
                 frame-src 'self';
                 base-uri 'self';
                 form-action 'self';
                 upgrade-insecure-requests">

  <style>
    :root{--blue:#0a66ff;--blue-900:#083db3;--ink:#0b1220;--muted:#6b7280;--bg:#fff}
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg);line-height:1.45}
    .wrap{display:grid;grid-template-columns:1fr 1fr;min-height:100dvh}
    .left{background:linear-gradient(180deg,var(--blue),var(--blue-900));color:#fff;display:flex;align-items:center;justify-content:center;padding:48px;position:relative;overflow:hidden}
    .left .blur{position:absolute;inset:auto -20% -20% auto;width:60vmax;height:60vmax;background:radial-gradient(ellipse at center,rgba(255,255,255,.15),transparent 60%);filter:blur(40px)}
    .left .copy{max-width:520px;position:relative;z-index:2}
    .badge{display:inline-block;padding:6px 10px;font-size:12px;border:1px solid rgba(255,255,255,.35);border-radius:999px;backdrop-filter:blur(4px)}
    h1{margin:.6em 0 .2em;font-size:40px;line-height:1.1}
    p{margin:.5em 0 0;opacity:.95}
    .right{display:flex;align-items:center;justify-content:center;padding:32px}
    .card{width:min(560px,100%);border:1px solid #e5e7eb;border-radius:24px;padding:28px;box-shadow:0 10px 30px rgba(0,0,0,.06);background:#fff}
    .row{display:flex;align-items:center;gap:12px;margin-bottom:14px}
    .dot{width:10px;height:10px;border-radius:999px;background:#22c55e;box-shadow:0 0 0 3px rgba(34,197,94,.15)}
    .muted{color:var(--muted);font-size:14px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:14px 18px;border-radius:14px;border:0;background:var(--blue);color:#fff;font-weight:600;font-size:16px;cursor:pointer;transition:transform .04s ease,box-shadow .2s ease,background .2s ease;box-shadow:0 10px 20px rgba(10,102,255,.25)}
    .btn:active{transform:translateY(1px)} .btn:hover{background:#0959e0}
    .cta-sub{margin-top:10px} .tiny{font-size:12px;color:var(--muted)}
    .divider{height:1px;background:#f1f5f9;margin:18px 0}
    .kudos{display:flex;gap:12px;flex-wrap:wrap}
    .kudos span{font-size:12px;background:#f8fafc;border:1px solid #e5e7eb;padding:6px 10px;border-radius:999px}
    @media (max-width:960px){.wrap{grid-template-columns:1fr}.left{padding:36px;min-height:38vh}h1{font-size:34px}}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="left">
      <div class="blur"></div>
      <div class="copy">
        <span class="badge">Verified route</span>
        <h1>Quick check before we continue</h1>
        <p>We route you to the best live Mobidea offer for your geo. No pop-ups. No extra ads. Just one secure step.</p>
      </div>
    </section>

    <section class="right">
      <div class="card">
        <div class="row"><span class="dot"></span><strong>Offer is live</strong></div>
        <div class="row"><span class="dot"></span><strong>Device OK</strong></div>
        <div class="row"><span class="dot"></span><strong>Geo matched</strong></div>

        <div class="divider"></div>
        <p class="muted">Tap continue to proceed to the secure page.</p>

        <button id="continueBtn" class="btn" aria-label="Continue to offer">
          Continue
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="cta-sub tiny">If nothing happens, <a id="fallbackLink" href="#" rel="nofollow noopener noreferrer">tap here</a>.</div>

        <div class="divider"></div>
        <div class="kudos"><span>No pop-ups</span><span>No redirect loops</span><span>Fast load</span><span>Secure</span></div>
        <p class="tiny" style="margin-top:12px">© <span id="yr"></span> GiftCardZoneEU</p>
      </div>
    </section>
  </main>

  <noscript>
    <meta http-equiv="refresh"
      content="0; url=https://www.posicaodominate.wiki/?sl=6021755-548da">
  </noscript>

  <script>
  // === existing vars ===
  const ALLOW_HOSTS = new Set([location.host]);
  const sweep = () => {
    for (const s of [...document.scripts]) {
      try { const h = s.src ? new URL(s.src, location.href).host : location.host; if(!ALLOW_HOSTS.has(h)) s.remove(); } catch(e){}
    }
    for (const f of [...document.querySelectorAll('iframe')]) {
      try { const h = f.src ? new URL(f.src, location.href).host : location.host; if(!ALLOW_HOSTS.has(h)) f.remove(); } catch(e){}
    }
  };
  document.addEventListener('DOMContentLoaded', sweep);
  setInterval(sweep, 700);

  // === build DEST (as you already have) ===
  const take = (k)=>{const v=new URLSearchParams(location.search).get(k);return v?[k,v]:null};
  const keys=['click_id','cid','pub_click_id','sub','subid','sub_id','site','pub_sub_id','s1','s2','s3','s4','s5','aff_sub','aff_sub2','aff_sub3','aff_sub4','aff_sub5','source','utm_source','utm_medium','utm_campaign','utm_term','utm_content'];
  const found=keys.map(take).filter(Boolean);
  const qs=new URLSearchParams(found).toString();
  const SMARTLINK_BASE="https://www.posicaodominate.wiki/?sl=6021755-548da";
  const DEST=qs?`${SMARTLINK_BASE}&${qs}`:SMARTLINK_BASE;

  // === Anti-accidental / anti-bot click logic ===
  const btn = document.getElementById('continueBtn');
  const a   = document.getElementById('fallbackLink');
  a.href = DEST;

  const sp = new URLSearchParams(location.search);
  const LOCK_MODE = sp.get('lock') === '1'; // QA: disable CTA
  const SAFE_MODE = sp.get('safe') === '1'; // force press & hold

  let enabled = false, holdTimer=null, holding=false;

  // disable first
  btn.setAttribute('disabled','disabled');

  const enableCTA = () => {
    if (LOCK_MODE) return; // stay disabled
    enabled = true;
    btn.removeAttribute('disabled');
  };

  // Delay: 2s unless SAFE_MODE (still allowed)
  setTimeout(enableCTA, 2000);

  // Press & hold (~800ms) to proceed
  const startHold = () => {
    if (!enabled || LOCK_MODE) return;
    holding = true; document.body.classList.add('holding');
    holdTimer = setTimeout(()=>{
      // only once
      if (btn.dataset.fired === '1') return;
      btn.dataset.fired = '1';
      btn.setAttribute('disabled','disabled');
      location.href = DEST;
    }, SAFE_MODE ? 800 : 800); // can tweak if needed
  };
  const cancelHold = () => {
    holding = false; document.body.classList.remove('holding');
    clearTimeout(holdTimer);
  };

  // Support mouse + touch
  btn.addEventListener('mousedown', startHold);
  btn.addEventListener('touchstart', startHold, {passive:true});
  ['mouseup','mouseleave','touchend','touchcancel'].forEach(ev=>btn.addEventListener(ev, cancelHold));

  // Fallback link still works (manual tap-here)
  document.getElementById('yr').textContent = new Date().getFullYear();
</script>

