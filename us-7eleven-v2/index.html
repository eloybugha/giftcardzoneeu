  <!doctype html>
<html lang="tl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Spin & Unlock</title>
<style>
  :root { --bg:#0b1220; --card:#121a2b; --txt:#e6ecff; --muted:#9bb0ff; --accent:#5eead4; }
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--txt);font:500 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto}
  .wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
  .card{width:100%;max-width:440px;background:var(--card);border:1px solid #1c2742;border-radius:20px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  h1{margin:0 0 8px;font-size:22px}
  p.lead{margin:0 0 16px;color:var(--muted)}
  .wheelBox{display:grid;place-items:center;margin:10px 0 14px}
  .wheel{position:relative;width:280px;aspect-ratio:1;border-radius:50%;border:10px solid #0f1931;background:
    conic-gradient(#3b82f6 0 45deg,#22d3ee 0 90deg,#a78bfa 0 135deg,#34d399 0 180deg,#f59e0b 0 225deg,#ef4444 0 270deg,#10b981 0 315deg,#eab308 0 360deg)}
  .center{position:absolute;inset:50% auto auto 50%;transform:translate(-50%,-50%);width:110px;height:110px;background:#0f1931;color:#fff;border-radius:50%;display:grid;place-items:center;border:6px solid #0b1220;text-align:center;padding:6px}
  .pin{position:absolute;left:50%;top:-18px;transform:translateX(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:18px solid #ffd43b;filter:drop-shadow(0 2px 0 #0005)}
  .btn{width:100%;border:0;border-radius:12px;padding:14px 16px;font-weight:700;background:linear-gradient(180deg,#53ffd6,#23bfa6);color:#06131a;cursor:pointer}
  .btn[disabled]{opacity:.55;cursor:not-allowed}
  .note{margin-top:10px;font-size:13px;color:#9db3ff;}
  .result{margin:10px 0 6px;font-weight:700;text-align:center}
  .hide{display:none}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Spin the Wheel</h1>
    <p class="lead">Paikutin mo para ma-unlock ang best offer ngayong araw.</p>

    <div class="wheelBox">
      <div class="wheel" id="wheel">
        <div class="pin"></div>
        <div class="center"><small>Tap to</small><div style="font-size:18px;font-weight:800">SPIN</div></div>
      </div>
    </div>

    <div id="result" class="result hide">Result: ‚Äî</div>
    <button id="continueBtn" class="btn hide">Continue</button>
    <p class="note">Tip: Pagkatapos mag-spin, pindutin ang ‚ÄúContinue‚Äù para magbukas ang offer. If blocked, we‚Äôll auto-retry fallbacks.</p>
  </div>
</div>

<script>
/* ----- HARD GUARD: bawal mag-init nang dalawang beses ----- */
if (!window.__SPIN_INIT__) {
  window.__SPIN_INIT__ = true;

  // === LINKS (Primary ‚Üí Fallbacks) ===
  const PRIMARY_LINK   = "https://www.effectivegatecpm.com/qng7ic9mmn?key=7aafa190a2f78bc6cb6fd084e1fa9c4c"; // Adsterra
  const FALLBACK_LINKS = [
    "https://traffserve.com/?a=XXXX&c=YYYY",        // Monetag smartlink (palitan mo)
    // "https://s.click.aliexpress.com/e/XXXXXXXX", // (optional) AliExpress
  ];

  // === Elements ===
  const wheel = document.getElementById("wheel");
  const resultBox = document.getElementById("result");
  const continueBtn = document.getElementById("continueBtn");

  // === State ===
  let hasSpun = false;   // para di mag-doble ang spin
  let hasFired = false;  // para di mag-doble ang window.open chain

  // === Helpers ===
  function pickPrize() {
    // 8 slices @ 45deg each; babagay sa conic-gradient sa CSS
    const prizes = ["üî• Bonus","üéÅ Gift","‚≠ê Special","üí• Extra","üéâ Win","üíé Premium","ü™ô Coins","‚úÖ Unlock"];
    const idx = Math.floor(Math.random()*prizes.length);
    return { label: prizes[idx], index: idx };
  }
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Spin the Wheel ‚Ä¢ GiftCardZoneEU</title>
<style>
  :root{
    --bg:#0b1220; --panel:#121b2e; --text:#e6f0ff; --muted:#9eb3d8;
    --accent:#18e0b5; --accent-2:#5eead4; --danger:#ff6b6b;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;background:radial-gradient(1200px 600px at 20% -10%,#0f1830 0%,#0b1220 45%,#09101e 100%), var(--bg);
    color:var(--text); font:500 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    display:flex; align-items:center; justify-content:center; padding:24px;
  }
  .card{
    width:min(520px, 92vw); background:linear-gradient(180deg,#111a2c,#0f1729);
    border:1px solid rgba(255,255,255,.06); border-radius:22px; padding:22px 22px 26px;
    box-shadow:0 10px 30px rgba(0,0,0,.35);
    position:relative; overflow:hidden;
  }
  .title{font-size:22px; font-weight:800; letter-spacing:.2px; margin:0 0 8px}
  .sub{color:var(--muted); margin:0 0 18px}
  .wheel-wrap{display:grid; place-items:center; margin:10px 0 14px}
  .wheel{
    width:min(320px, 78vw); aspect-ratio:1/1; border-radius:50%;
    background:
      conic-gradient(#ffb703 0 45deg,#ff6b6b 0 90deg,#8bc34a 0 135deg,#60a5fa 0 180deg,
                     #a78bfa 0 225deg,#22d3ee 0 270deg,#f97316 0 315deg,#34d399 0 360deg);
    position:relative; box-shadow: inset 0 0 0 12px #0d1426, 0 8px 22px rgba(0,0,0,.45);
    display:grid; place-items:center; cursor:pointer; user-select:none; touch-action:manipulation;
    transition:filter .2s ease;
  }
  .wheel:hover{filter:brightness(1.05)}
  .hub{
    width:34%; aspect-ratio:1/1; border-radius:50%;
    background: radial-gradient(60% 60% at 30% 30%, #253356, #0f1729);
    border:10px solid #0d1426; color:#cfe6ff; display:grid; place-items:center; text-align:center;
    font-weight:800; letter-spacing:.6px; text-transform:uppercase;
  }
  .pointer{
    position:absolute; left:50%; top:-6px; translate:-50% 0;
    width:0; height:0; border-left:11px solid transparent; border-right:11px solid transparent;
    border-bottom:16px solid var(--accent);
    filter:drop-shadow(0 2px 2px rgba(0,0,0,.45));
  }
  .wheel.spinning{animation:spin 2.4s cubic-bezier(.19,.85,.17,1) forwards}
  @keyframes spin{from{rotate:0} to{rotate:calc(1440deg + var(--end, 0deg))}}
  .result{margin:10px 2px 12px; font-weight:700}
  .muted{color:var(--muted)}
  .btn{
    width:100%; border:0; border-radius:14px; padding:14px 18px; font-weight:800;
    background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#052018; cursor:pointer;
    box-shadow: 0 8px 18px rgba(24,224,181,.25); transition: transform .05s ease, box-shadow .2s ease, opacity .2s ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn[disabled]{opacity:.55; cursor:not-allowed; box-shadow:none}
  .glow{animation:pulse 1.6s ease-in-out infinite}
  @keyframes pulse{
    0%,100%{box-shadow:0 0 0 rgba(24,224,181,.0), 0 12px 26px rgba(0,0,0,.35)}
    50%{box-shadow:0 0 22px rgba(24,224,181,.35), 0 12px 26px rgba(0,0,0,.35)}
  }
  .badge{display:inline-flex; gap:6px; align-items:center; font-size:13px; color:#bcd2ff}
  .timer{font-variant-numeric:tabular-nums; font-weight:800}
  .tag{display:inline-block; padding:6px 10px; background:#0e1a33; border:1px solid rgba(255,255,255,.06); border-radius:999px; font-size:12px; color:#b7cdfa}
  .row{display:flex; align-items:center; justify-content:space-between; gap:10px}
  canvas#fx{position:absolute; inset:0; pointer-events:none}
  .footer{margin-top:14px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:space-between}
</style>
</head>
<body>
  <div class="card" id="card">
    <canvas id="fx"></canvas>
    <div class="tag">Only 1 spin per user today</div>
    <h1 class="title">Spin the Wheel</h1>
    <p class="sub">Spin to unlock today‚Äôs best offer. Pop-ups blocked? Tap <b>Continue</b> and we‚Äôll auto-retry fallbacks.</p>

    <div class="wheel-wrap">
      <div class="wheel" id="wheel" aria-label="Spin the wheel">
        <div class="pointer"></div>
        <div class="hub">Tap<br/>to<br/>Spin</div>
      </div>
    </div>

    <p class="result" id="status">Result: <span id="result">‚Äî</span></p>

    <div class="row" style="margin:8px 0 14px">
      <span class="badge" id="loading" hidden>‚è≥ Checking your offer‚Ä¶</span>
      <span class="badge" id="expiry" hidden>‚è≥ Offer expires in <span class="timer" id="cd">00:30</span></span>
    </div>

    <button id="continueBtn" class="btn glow" disabled>Continue</button>
    <p class="muted" style="margin:10px 2px 0">Tip: After spinning, press ‚ÄúContinue‚Äù to open the offer. If blocked, we‚Äôll auto-retry fallbacks.</p>

    <div class="footer">
      <span class="tag">Secure ‚Ä¢ No signup needed</span>
      <span class="tag">Auto-open with fallbacks</span>
    </div>
  </div>

<script>
/* =======================
   CONFIG: LINKS & OPTIONS
   ======================= */
// PRIMARY = Adsterra (user provided)
const PRIMARY_LINK = "https://www.effectivegatecpm.com/qng7ic9mmn?key=7aafa190a2f78bc6cb6fd084e1fa9c4c";

// Fallbacks: add your Monetag smartlink below (replace placeholder)
const FALLBACK_LINKS = [
  "YOUR_MONETAG_SMARTLINK_HERE",
  PRIMARY_LINK + "&src=fallback-2"
];

// One spin per user per day
const SPIN_KEY = "gczeu.spinstamp.v1";

// Countdown seconds after result
const COUNTDOWN_SECS = 30;

/* =======================
   ELEMENTS
   ======================= */
const wheel = document.getElementById("wheel");
const resultEl = document.getElementById("result");
const statusEl = document.getElementById("status");
const loadingEl = document.getElementById("loading");
const expiryEl = document.getElementById("expiry");
const cdEl = document.getElementById("cd");
const continueBtn = document.getElementById("continueBtn");
const fx = document.getElementById("fx");
const fctx = fx.getContext("2d");

/* =======================
   POPUP / FALLBACK LOGIC
   ======================= */
let hasFired = false;
function tryOpen(url){
  try{
    const w = window.open(url, "_blank", "noopener,noreferrer");
    return !!w;
  }catch(e){ return false; }
}
function openWithFallback(){
  if (hasFired) return;
  hasFired = true;

  // Try primary first
  const ok = tryOpen(PRIMARY_LINK);
  if (ok) return;

  // Chain fallbacks with small gaps to bypass blockers
  let i = 0;
  const tick = () => {
    if (i >= FALLBACK_LINKS.length) return;
    const success = tryOpen(FALLBACK_LINKS[i++]);
    if (!success) setTimeout(tick, 400);
  };
  setTimeout(tick, 320);
}
continueBtn.addEventListener("click", openWithFallback);

/* =======================
   CONFETTI
   ======================= */
function resizeFx(){
  fx.width = fx.clientWidth = document.getElementById("card").clientWidth;
  fx.height = fx.clientHeight = document.getElementById("card").clientHeight;
}
window.addEventListener("resize", resizeFx, {passive:true});
resizeFx();

let confetti = [];
function burst(n=45){
  for (let i=0;i<n;i++){
    confetti.push({
      x: fx.width/2, y: 140 + (Math.random()*30-15),
      vx: (Math.random()*6-3), vy: (Math.random()*-5-2),
      r: Math.random()*6+3, a: 1, spin: Math.random()*6.28
    });
  }
}
function tick(){
  fctx.clearRect(0,0,fx.width,fx.height);
  confetti = confetti.filter(p=>p.a>0);
  confetti.forEach(p=>{
    p.vy += 0.08; p.x += p.vx; p.y += p.vy; p.a -= 0.007; p.spin += 0.2;
    fctx.globalAlpha = Math.max(p.a,0);
    fctx.save();
    fctx.translate(p.x,p.y); fctx.rotate(p.spin);
    fctx.fillStyle = ["#60a5fa","#22d3ee","#34d399","#f59e0b","#ef4444","#a78bfa"][Math.floor(Math.random()*6)];
    fctx.beginPath();
    fctx.rect(-p.r/2,-p.r/2,p.r,p.r);
    fctx.fill();
    fctx.restore();
  });
  requestAnimationFrame(tick);
}
tick();

/* =======================
   WHEEL / GAME LOGIC
   ======================= */
function todayKey(){
  const d = new Date(); d.setHours(0,0,0,0); return String(d.getTime());
}

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Spin the Wheel ‚Ä¢ GiftCardZoneEU (v3)</title>
<style>
  :root{--bg:#0b1220;--panel:#121b2e;--text:#e6f0ff;--muted:#9eb3d8;--accent:#18e0b5;--accent-2:#5eead4}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:radial-gradient(1200px 600px at 20% -10%,#0f1830 0%,#0b1220 45%,#09101e 100%),var(--bg);
       color:var(--text);font:500 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
       display:flex;align-items:center;justify-content:center;padding:24px}
  .card{width:min(520px,92vw);background:linear-gradient(180deg,#111a2c,#0f1729);
        border:1px solid rgba(255,255,255,.06);border-radius:22px;padding:22px 22px 26px;box-shadow:0 10px 30px rgba(0,0,0,.35);
        position:relative;overflow:hidden}
  .title{font-size:22px;font-weight:800;margin:0 0 8px}
  .sub{color:var(--muted);margin:0 0 18px}
  .tag{display:inline-block;padding:6px 10px;background:#0e1a33;border:1px solid rgba(255,255,255,.06);
       border-radius:999px;font-size:12px;color:#b7cdfa}
  .wheel-wrap{display:grid;place-items:center;margin:10px 0 14px}
  .wheel{width:min(320px,78vw);aspect-ratio:1;border-radius:50%;
         background:conic-gradient(#ffb703 0 45deg,#ff6b6b 0 90deg,#8bc34a 0 135deg,#60a5fa 0 180deg,#a78bfa 0 225deg,#22d3ee 0 270deg,#f97316 0 315deg,#34d399 0 360deg);
         position:relative;display:grid;place-items:center;cursor:pointer;user-select:none;touch-action:manipulation;
         box-shadow:inset 0 0 0 12px #0d1426,0 8px 22px rgba(0,0,0,.45)}
  .hub{width:34%;aspect-ratio:1;border-radius:50%;background:radial-gradient(60% 60% at 30% 30%,#253356,#0f1729);
       border:10px solid #0d1426;color:#cfe6ff;display:grid;place-items:center;text-align:center;font-weight:800;letter-spacing:.6px;text-transform:uppercase}
  .pointer{position:absolute;left:50%;top:-6px;translate:-50% 0;width:0;height:0;border-left:11px solid transparent;border-right:11px solid transparent;border-bottom:16px solid var(--accent);filter:drop-shadow(0 2px 2px rgba(0,0,0,.45))}
  .wheel.spinning{animation:spin 2.4s cubic-bezier(.19,.85,.17,1) forwards}
  @keyframes spin{from{rotate:0} to{rotate:calc(1440deg + var(--end,0deg))}}
  .result{margin:10px 2px 12px;font-weight:700}
  .badge{display:inline-flex;gap:6px;align-items:center;font-size:13px;color:#bcd2ff}
  .timer{font-variant-numeric:tabular-nums;font-weight:800}
  .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
  .btn{width:100%;border:0;border-radius:14px;padding:14px 18px;font-weight:800;background:linear-gradient(90deg,var(--accent),var(--accent-2));
       color:#052018;cursor:pointer;box-shadow:0 8px 18px rgba(24,224,181,.25);transition:transform .05s ease,opacity .2s ease}
  .btn:active{transform:translateY(1px)} .btn[disabled]{opacity:.55;cursor:not-allowed;box-shadow:none}
  .glow{animation:pulse 1.6s ease-in-out infinite}
  @keyframes pulse{0%,100%{box-shadow:0 0 0 rgba(24,224,181,0),0 12px 26px rgba(0,0,0,.35)}50%{box-shadow:0 0 22px rgba(24,224,181,.35),0 12px 26px rgba(0,0,0,.35)}}
  canvas#fx{position:absolute;inset:0;pointer-events:none}
</style>
</head>
<body>
  <div class="card" id="card">
    <canvas id="fx"></canvas>
    <div class="tag">v3 ‚Ä¢ Only 1 spin per user today</div>
    <h1 class="title">Spin the Wheel</h1>
    <p class="sub">Spin to unlock today‚Äôs best offer. Pop-ups blocked? Tap <b>Continue</b> and we‚Äôll auto-retry fallbacks.</p>

    <div class="wheel-wrap">
      <div class="wheel" id="wheel" aria-label="Spin the wheel">
        <div class="pointer"></div>
        <div class="hub">Tap<br>to<br>Spin</div>
      </div>
    </div>

    <p class="result">Result: <span id="result">‚Äî</span></p>

    <div class="row" style="margin:8px 0 14px">
      <span class="badge" id="loading" hidden>‚è≥ Checking your offer‚Ä¶</span>
      <span class="badge" id="expiry" hidden>‚è≥ Offer expires in <span class="timer" id="cd">00:30</span></span>
    </div>

    <button id="continueBtn" class="btn glow" disabled>Continue</button>
    <p class="sub" style="margin:10px 2px 0">Tip: After spinning, press ‚ÄúContinue‚Äù to open the offer. If blocked, we‚Äôll auto-retry fallbacks.</p>
  </div>

<script>
/* ===== CONFIG ===== */
// Primary: Adsterra (given)
const PRIMARY_LINK = "https://www.effectivegatecpm.com/qng7ic9mmn?key=7aafa190a2f78bc6cb6fd084e1fa9c4c";
// Fallbacks: Monetag + extra try
const FALLBACK_LINKS = [
  "YOUR_MONETAG_SMARTLINK_HERE",
  PRIMARY_LINK + "&src=fallback-2"
];
// One spin per user per day
const SPIN_KEY = "gczeu.spinstamp.v1";
const COUNTDOWN_SECS = 30;

/* ===== ELEMENTS ===== */
const wheel = document.getElementById("wheel");
const resultEl = document.getElementById("result");
const loadingEl = document.getElementById("loading");
const expiryEl = document.getElementById("expiry");
const cdEl = document.getElementById("cd");
const continueBtn = document.getElementById("continueBtn");
const fx = document.getElementById("fx"); const fctx = fx.getContext("2d");

/* ===== POPUP / FALLBACK ===== */
let hasFired = false;
function tryOpen(url){ try{ const w = window.open(url,"_blank","noopener,noreferrer"); return !!w; }catch(e){ return false; } }
function openWithFallback(){
  if (hasFired) return; hasFired = true;
  if (tryOpen(PRIMARY_LINK)) return;
  let i=0; const tick=()=>{ if(i>=FALLBACK_LINKS.length) return; if(!tryOpen(FALLBACK_LINKS[i++])) setTimeout(tick,400); };
  setTimeout(tick,320);
}
continueBtn.addEventListener("click", openWithFallback);

/* ===== CONFETTI ===== */
function resizeFx(){ fx.width = document.getElementById("card").clientWidth; fx.height = document.getElementById("card").clientHeight; }
addEventListener("resize", resizeFx, {passive:true}); resizeFx();
let confetti=[];
function burst(n=45){ for(let i=0;i<n;i++){ confetti.push({x:fx.width/2,y:140+(Math.random()*30-15),vx:(Math.random()*6-3),vy:(Math.random()*-5-2),r:Math.random()*6+3,a:1,spin:Math.random()*6.28}); } }
(function loop(){ fctx.clearRect(0,0,fx.width,fx.height); confetti=confetti.filter(p=>p.a>0);
  confetti.forEach(p=>{ p.vy+=0.08;p.x+=p.vx;p.y+=p.vy;p.a-=0.007;p.spin+=0.2;
    fctx.globalAlpha=Math.max(p.a,0); fctx.save(); fctx.translate(p.x,p.y); fctx.rotate(p.spin);
    fctx.fillStyle=["#60a5fa","#22d3ee","#34d399","#f59e0b","#ef4444","#a78bfa"][Math.floor(Math.random()*6)];
    fctx.fillRect(-p.r/2,-p.r/2,p.r,p.r); fctx.restore();}); requestAnimationFrame(loop);}());

/* ===== GAME LOGIC ===== */
function todayKey(){ const d=new Date(); d.setHours(0,0,0,0); return String(d.getTime()); }
function alreadySpunToday(){ return localStorage.getItem(SPIN_KEY) === todayKey(); }
function lockSpin(){ localStorage.setItem(SPIN_KEY, todayKey()); }
function fmt(s){ const m=String(Math.floor(s/60)).padStart(2,"0"); const r=String(s%60).padStart(2,"0"); return `${m}:${r}`; }
function startCountdown(){ let t=COUNTDOWN_SECS; expiryEl.hidden=false; cdEl.textContent=fmt(t);
  const iv=setInterval(()=>{ t--; cdEl.textContent=fmt(t); if(t<=0){clearInterval(iv); expiryEl.textContent="‚è≥ Offer refreshes soon";}},1000);}
function setResult(text="‚≠ê Special"){ resultEl.textContent=text; continueBtn.disabled=false; continueBtn.classList.add("glow"); loadingEl.hidden=true; startCountdown(); burst(); }
function doSpin(){
  const slices=8, indexWin=[0,2,5,7][Math.floor(Math.random()*4)], sliceAngle=360/slices, offset=sliceAngle*indexWin+sliceAngle/2;
  wheel.style.setProperty("--end", `${offset}deg`); wheel.classList.add("spinning"); loadingEl.hidden=false;
  setTimeout(()=>{ lockSpin(); setTimeout(()=>setResult("‚≠ê Special"), 650); }, 2400);
}
function init(){
  if (alreadySpunToday()){ resultEl.textContent="‚≠ê Special"; continueBtn.disabled=false; continueBtn.classList.add("glow"); startCountdown(); expiryEl.hidden=false; }
  else { wheel.addEventListener("click", ()=>{ if(!wheel.classList.contains("spinning")) doSpin(); }, {once:true}); }
}
init();
</script>
</body>
</html>


