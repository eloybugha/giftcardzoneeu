<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Win a $100 Gift Card ‚Äì Play & Unlock</title>
<meta name="robots" content="noindex,nofollow" />
<style>
  :root{
    --bg:#0b1220; --card:#0f1a2b; --txt:#e6eefb; --muted:#a8b3c7;
    --acc1:#22c55e; --acc2:#16a34a; --accent:#06b6d4; --danger:#ef4444;
    --ring:#60a5fa; --gold:#facc15;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    color:var(--txt); background:radial-gradient(1000px 600px at 50% -10%,#162945 0%,#0b1220 70%) fixed,var(--bg);
    display:flex; align-items:center; justify-content:center; padding:16px;
  }
  .card{
    width:min(600px,95vw); background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.08); border-radius:20px; box-shadow:0 20px 60px rgba(0,0,0,0.35);
    padding:20px 18px 18px; position:relative; overflow:hidden;
  }
  .badge{display:inline-flex; gap:8px; align-items:center; font-size:12px; color:#c8d7ff;
    background:rgba(96,165,250,0.12); border:1px solid rgba(96,165,250,0.35); padding:6px 10px; border-radius:999px;}
  h1{margin:12px 0 8px; font-size:clamp(22px,3.5vw,28px); line-height:1.15}
  p{margin:0; color:var(--muted)}
  .progress{height:8px; background:rgba(255,255,255,0.08); border-radius:999px; overflow:hidden; margin:16px 0 8px}
  .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--gold),#f59e0b); transition:width .25s ease}
  .row{display:flex; gap:12px; align-items:center; justify-content:space-between}
  .timer{font-variant-numeric:tabular-nums; font-weight:700}
  .pill{background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); padding:6px 10px; border-radius:10px}
  .arena{margin:16px 0; display:grid; grid-template-columns:repeat(3,1fr); gap:10px}
  .tile{
    aspect-ratio:1/1; border-radius:16px; display:grid; place-items:center; cursor:pointer; user-select:none;
    background:linear-gradient(160deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));
    border:1px solid rgba(255,255,255,0.10); position:relative; overflow:hidden;
    transition:transform .08s ease, box-shadow .2s ease, border-color .2s ease;
  }
  .tile.active{border-color:rgba(250,204,21,0.8); box-shadow:0 0 0 3px rgba(250,204,21,0.25) inset}
  .tile:active{transform:scale(0.98)}
  .tile span{font-size:clamp(18px,5vw,24px); color:#fff}
  .cta{
    width:100%; padding:14px 16px; border-radius:14px; font-weight:700; letter-spacing:.2px; cursor:not-allowed;
    border:0; background:linear-gradient(180deg,rgba(255,255,255,0.08),rgba(255,255,255,0.06));
    color:#c9d3e6; transition:filter .2s ease, transform .06s ease;
  }
  .cta.active{
    cursor:pointer; color:#052e16; background:linear-gradient(90deg,var(--acc1),var(--acc2)); filter:drop-shadow(0 12px 30px rgba(34,197,94,.35));
  }
  .cta:active{transform:translateY(1px)}
  .hint{font-size:12px; color:#93a3be; text-align:center; margin-top:6px}
  .wheel{
    margin:14px auto 4px; width:min(340px,80vw); aspect-ratio:1/1; border-radius:999px; position:relative; overflow:hidden;
    border:2px dashed rgba(255,255,255,0.15); background:radial-gradient(400px 320px at 50% 35%,rgba(250,204,21,.12),transparent 60%),
      conic-gradient(from 0deg,#0ea5e9 0 45deg,#22c55e 45deg 90deg,#a855f7 90deg 135deg,#ef4444 135deg 180deg,#06b6d4 180deg 225deg,#f59e0b 225deg 270deg,#10b981 270deg 315deg,#8b5cf6 315deg 360deg);
    filter:drop-shadow(0 5px 30px rgba(0,0,0,.35));
  }
  .pin{position:absolute; inset:auto 0 100% 0; margin:auto; width:0;height:0; border-left:14px solid transparent; border-right:14px solid transparent; border-top:16px solid var(--gold); transform:translateY(12px)}
  .spinbtn{display:block; margin:10px auto 4px; padding:10px 14px; border-radius:999px; font-weight:700; border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.06); color:#e6eefb; cursor:pointer}
  .score{font-weight:800}
  /* Confetti */
  .confetti{position:absolute; inset:0; pointer-events:none; overflow:hidden}
  .shred{position:absolute; width:8px; height:16px; background:#fff; opacity:.9; border-radius:2px; animation:fall 1200ms linear forwards}
  @keyframes fall{to{transform:translateY(120vh) rotate(540deg); opacity:0}}
</style>
</head>
<body>
  <main class="card" id="app">
    <div class="badge">üéÅ Win a $100 Gift Card ‚Ä¢ Limited Slots</div>
    <h1>Play to Unlock Your Reward</h1>
    <p>Tap the highlighted tiles and spin the wheel. Fill the bar to unlock your claim button.</p>

    <div class="progress" aria-label="progress"><div class="bar" id="bar"></div></div>
    <div class="row">
      <div class="pill">‚è±Ô∏è Time left: <b class="timer" id="t">--</b>s</div>
      <div class="pill">‚≠ê Score: <b class="score" id="score">0</b></div>
    </div>

    <!-- Mini-game grid -->
    <section class="arena" id="arena" aria-label="tap game grid"></section>

    <!-- Spin wheel (visual engagement) -->
    <div class="wheel" id="wheel">
      <div class="pin"></div>
    </div>
    <button class="spinbtn" id="spin">Spin the Wheel</button>

    <button id="cta" class="cta" disabled>Unlocking‚Ä¶ keep playing</button>
    <div class="hint">Keep interacting for ~15‚Äì25s. When the button turns green, tap to claim.</div>

    <div class="confetti" id="confetti"></div>
  </main>

<script>
// ====== CONFIG ======
const SMARTLINK = "https://otieu.com/4/4203960"; // Monetag Smartlink (your zone)
const REDIRECT_FALLBACK = "https://otieu.com/4/4203960"; // keep same or leave as ""
// Game timing (adjust if you want longer/shorter dwell time)
const MIN_SECONDS = 15;             // minimum play time before unlock
const EXTRA_RANDOM = 10;            // adds 0..10 seconds randomly
const REQUIRED_SCORE = 12;          // taps to unlock faster

// ====== STATE ======
const bar = document.getElementById('bar');
const t = document.getElementById('t');
const scoreEl = document.getElementById('score');
const arena = document.getElementById('arena');
const cta = document.getElementById('cta');
const spin = document.getElementById('spin');
const confetti = document.getElementById('confetti');

let total = MIN_SECONDS + Math.floor(Math.random()*EXTRA_RANDOM); // 15..25s
let left = total;
let score = 0;
let unlocked = false;
let ivTick = null;
let activeIndex = -1;
let spinning = false;

// ====== HELPERS ======
function updateBar(){
  const pct = ((total - left) / total) * 100;
  bar.style.width = pct.toFixed(1) + '%';
}
function updateTimer(){
  t.textContent = String(left).padStart(2,'0');
}
function raiseScore(n=1){
  score += n; scoreEl.textContent = score;
}
function celebrate(){
  for(let i=0;i<40;i++){
    const s = document.createElement('div');
    s.className = 'shred';
    s.style.left = (Math.random()*100)+'%';
    s.style.background = ['#22c55e','#f59e0b','#60a5fa','#a78bfa','#f43f5e','#06b6d4'][i%6];
    s.style.animationDuration = (800+Math.random()*900)+'ms';
    confetti.appendChild(s);
    setTimeout(()=>s.remove(), 2000);
  }
}
function unlock(){
  if(unlocked) return;
  unlocked = true;
  cta.disabled = false;
  cta.classList.add('active');
  cta.textContent = 'üëâ Yes, claim my $100 Gift Card';
  celebrate();
}
function go(url){
  try{
    // small delay so last paint is counted
    setTimeout(()=>{ window.location.href = url; }, 600);
  }catch(e){
    if(REDIRECT_FALLBACK){ window.location.href = REDIRECT_FALLBACK; }
  }
}

// ====== BUILD GRID ======
const TILES = 9;
for(let i=0;i<TILES;i++){
  const div = document.createElement('div');
  div.className = 'tile';
  div.innerHTML = '<span>Tap</span>';
  div.addEventListener('click',()=>{
    if(div.classList.contains('active')){
      div.classList.remove('active');
      raiseScore();
      if(score >= REQUIRED_SCORE || left <= 1){ unlock(); }
    }else{
      // small interaction still helps
      raiseScore(0.5);
    }
  });
  arena.appendChild(div);
}
const tiles = [...document.querySelectorAll('.tile')];
function highlightRandom(){
  tiles.forEach(el=>el.classList.remove('active'));
  activeIndex = Math.floor(Math.random()*TILES);
  tiles[activeIndex].classList.add('active');
}

// ====== WHEEL ======
spin.addEventListener('click',()=>{
  if(spinning) return; spinning = true;
  const turns = 3 + Math.floor(Math.random()*4); // 3..6 turns
  const end = 360*turns + Math.floor(Math.random()*360);
  document.getElementById('wheel').style.transition = 'transform 1.6s cubic-bezier(.2,.9,.2,1)';
  document.getElementById('wheel').style.transform = `rotate(${end}deg)`;
  setTimeout(()=>{ spinning = false; raiseScore(); if(score >= REQUIRED_SCORE && left <= total-2){ unlock(); } }, 1700);
});

// ====== TIMER LOOP ======
function tick(){
  left = Math.max(0, left-1);
  updateTimer(); updateBar();
  // keep engagement changing
  highlightRandom();
  if(left<=0){
    unlock(); clearInterval(ivTick);
  }
}
ivTick = setInterval(tick,1000);
// init paint
updateTimer(); updateBar(); highlightRandom();

// ====== CTA ======
cta.addEventListener('click', (e)=>{
  if(!unlocked){ e.preventDefault(); return; }
  go(SMARTLINK);
});

// Safety: auto-redirect if user stays long enough without clicking
setTimeout(()=>{ if(!unlocked){ unlock(); } }, (MIN_SECONDS+5)*1000);
</script>
</body>
</html>
