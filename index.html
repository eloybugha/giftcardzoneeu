<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GiftCardZone ‚Äî Taking You In‚Ä¶</title>

  <!-- Router page: don't index -->
  <meta name="robots" content="noindex,follow">
  <link rel="canonical" href="https://giftcardzone.com/">

  <style>
    :root{--bg1:#0b1020;--bg2:#0f263a;--card:#0f1729cc;--ring:#34d399;--txt:#e8f0ff;--muted:#9fb3c8;--glow:#34d39955;--count:5}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;color:var(--txt);
      font:500 16px/1.5 ui-sans-serif,system-ui,Segoe UI,Roboto;
      background:
        radial-gradient(1200px 800px at 20% -10%, #1a2d4a66, transparent 55%),
        radial-gradient(900px 700px at 120% 110%, #0ea5e966, transparent 55%),
        linear-gradient(160deg,var(--bg1),var(--bg2));
      overflow:hidden;
    }
    .stars{position:fixed;inset:0;pointer-events:none;opacity:.25}
    .stars::before,.stars::after{
      content:"";position:absolute;inset:-50%;
      background:
        radial-gradient(2px 2px at 20% 30%, #cfe9ff 60%, transparent 61%),
        radial-gradient(1.5px 1.5px at 70% 60%, #b3d8ff 60%, transparent 61%),
        radial-gradient(1.2px 1.2px at 40% 80%, #d9f99d 60%, transparent 61%),
        radial-gradient(1.8px 1.8px at 85% 25%, #99f6e4 60%, transparent 61%);
      animation:float 40s linear infinite;
    }
    .stars::after{animation-duration:60s;opacity:.7;filter:blur(.4px)}
    @keyframes float{to{transform:translate3d(4%,-6%,0)}}
    main{height:100%;display:grid;place-items:center;padding:24px}
    .card{
      width:min(560px,92vw);
      background:#0f1729;border:1px solid #23324a;
      box-shadow:0 30px 120px #0008,0 0 40px var(--glow);
      border-radius:20px;padding:28px;text-align:center;
      position:relative;overflow:hidden;color:var(--txt);
    }
    @supports(backdrop-filter:blur(8px)){
      .card{background:var(--card);backdrop-filter:blur(8px);}
    }
    .logo{position:absolute;left:14px;top:14px;opacity:.9;font-weight:900;color:#9ae6b4}
    .badge{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:999px;color:#0b1b14;background:#d1fae5;font-weight:700;font-size:14px}
    h1{margin:16px 0 6px;font-weight:800;letter-spacing:.3px}
    .lead{margin:0 0 14px;color:var(--muted);font-size:15px}
    .geo{color:#d1fbe3;font-weight:600}
    .ring-wrap{display:flex;justify-content:center;margin:16px 0 20px}
    .ring{--p:0deg;width:72px;height:72px;border-radius:50%;background:conic-gradient(var(--ring) var(--p),#1f2a44 0);
      display:grid;place-items:center;box-shadow:0 0 0 6px #0d1627,inset 0 0 0 6px #0d1627,0 0 40px var(--glow);
      animation:fill calc(var(--count)*1s) linear forwards;}
    .ring span{width:54px;height:54px;border-radius:50%;background:#0b1324;display:grid;place-items:center;font-weight:800}
    @keyframes fill{to{--p:360deg}}
    .actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
    .btn{border:none;cursor:pointer;padding:12px 18px;border-radius:14px;font-weight:800;letter-spacing:.3px;transition:transform .08s,box-shadow .2s,background .2s}
    .primary{background:#10b981;color:#062d22;box-shadow:0 12px 28px #10b98155}.primary:active{transform:translateY(1px)}
    .ghost{background:#0e1b31;color:#b9c6d8;border:1px solid #243552}
    .hint{margin-top:12px;color:#a7bacf;font-size:13px}
    .kbd{padding:2px 6px;border:1px solid #3a4b6a;border-bottom-width:3px;border-radius:6px;font-family:ui-monospace,Menlo,Consolas,monospace}
    .footer{margin-top:14px;color:#6f839b;font-size:12px}
    a.link{color:#86efac;text-underline-offset:3px}
    .tap-anywhere{position:absolute;inset:0;background:transparent!important;border:0!important;appearance:none;-webkit-appearance:none;box-shadow:none!important;outline:none;cursor:pointer}
    .tap-anywhere:focus{box-shadow:inset 0 0 0 2px #22d3ee66}
    @media (prefers-reduced-motion:reduce){.stars{display:none}.ring{animation:none}}
  </style>
</head>
<body>
  <div class="stars" aria-hidden="true"></div>
  <main>
    <section class="card">
      <div class="logo">üéÅ GiftCardZone</div>
      <div class="badge" id="badge">üöÄ Redirecting‚Ä¶</div>
      <h1>We‚Äôre opening your country-matched rewards<span class="geo" id="geo"></span></h1>
      <p class="lead">Discover the best deals, coupons, and verified promos for your location.</p>
      <div class="ring-wrap"><div class="ring" id="ring"><span id="count">5</span></div></div>
      <div class="actions">
        <button class="btn primary" id="goNow">Go Now</button>
        <button class="btn ghost" id="copy">Copy Link</button>
      </div>
      <p class="hint">Tip: Press <span class="kbd">Enter</span> or tap anywhere to continue.<br>In TikTok browser? This will open in the top window.</p>
      <div class="footer">No movement? <a class="link" id="rawLink" href="https://giftcardzone.com/" rel="nofollow">Open directly</a>.</div>
      <div class="tap-anywhere" id="overlay"></div>
    </section>
  </main>

  <script>
  (function(){
    const UA = navigator.userAgent || "";
    const isMobile = /Android|iPhone|iPad|iPod/i.test(UA);
    const inApp = /TikTok|FBAN|FBAV|Instagram/i.test(UA);

    // Country guess + ?cc override
    const params = new URLSearchParams(location.search);
    let cc = (params.get('cc') || 'US').toUpperCase();
    try{
      if(!params.get('cc')){
        const lang = (navigator.language || 'en-US').toUpperCase();
        if (lang.includes('-')) cc = lang.split('-')[1];
        const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || '';
        if (tz === 'Europe/Amsterdam') cc = 'NL';
        if (tz.includes('Manila')) cc = 'PH';
      }
    }catch(e){}

    // Routes: US desktop -> CPAgrip
    const routes = {
      NL:{mobile:'/country/nl/', desktop:'/country/nl/'},
      US:{mobile:'/go/adsterra-us/', desktop:'/go/cpagrip-us/'},
      PH:{mobile:'/go/adsterra-ph/', desktop:'/country/ph/'},
      DEFAULT:{mobile:'/country/us/', desktop:'/country/us/'}
    };

    // ?to= override
    const host = location.host;
    let to = '';
    if(params.has('to')){
      try{
        const p = params.get('to');
        if(/^https?:/i.test(p)){ const u=new URL(p); if(u.host===host) to=u.href; }
        else if(p.startsWith('/')) to=`${location.origin}${p}`;
      }catch(e){}
    }
    if(!to){
      const map = routes[cc] || routes.DEFAULT;
      const path = map[isMobile ? 'mobile' : 'desktop'];
      to = `${location.origin}${path}`;
    }

    // pass-through UTM/ref
    const passKeys=['utm_source','utm_medium','utm_campaign','utm_term','utm_content','s','ref'];
    try{
      const cur=new URL(location.href); const tgt=new URL(to, location.origin);
      passKeys.forEach(k=>{if(cur.searchParams.has(k))tgt.searchParams.set(k,cur.searchParams.get(k));});
      to=tgt.href;
    }catch(e){}

    document.getElementById('rawLink').href=to;
    try{document.getElementById('geo').textContent=` ‚Äî ${cc.toUpperCase()}`;}catch(e){}

    const seconds=inApp?1:3;
    document.documentElement.style.setProperty('--count',seconds);
    const count=document.getElementById('count');let t=seconds;
    const tick=setInterval(()=>{t-=1;count.textContent=Math.max(0,t);if(t<=0){clearInterval(tick);go();}},1000);

    function go(manual=false){
      try{
        if(window.top&&window.top!==window){window.top.location=to;}
        else{location.replace(to);setTimeout(()=>{if(document.visibilityState==='visible')location.assign(to);},400);}
      }catch(e){if(manual)window.open(to,"_top");}
    }
    document.getElementById('goNow').addEventListener('click',()=>go(true));
    document.getElementById('overlay').addEventListener('click',()=>go(true));
    document.addEventListener('keydown',e=>{if(e.key==='Enter')go(true);});

    document.getElementById('copy').addEventListener('click',async()=>{
      try{await navigator.clipboard.writeText(to);flash('Link copied!');}
      catch{flash('Tap and hold to copy.');}
    });
    function flash(text){const el=document.getElementById('badge'),old=el.textContent;el.textContent=text;setTimeout(()=>el.textContent=old,1500);}

    setTimeout(()=>go(),(seconds*1000)+500);
  })();
  </script>
</body>
</html>
